<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/estilos.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
    <title>Elvis Valle — Portfolio</title>
    <!-- Preload de imágenes principales -->
    <link rel="preload" href="./img/kuntur.webp" as="image" />
    <link rel="preload" href="./img/index-kuntur.jpg" as="image" />
    <link rel="preload" href="./img/index-kuntur2.jpg" as="image" />

</head>

<body>
    <div class="noise__overlay"></div>
    <div class="fondo">
        <div class="contein_text">
            <div class="group1">
                <p>SOY CREATIVO - DETALLISTA - SOY CREATIVO - DETALLISTA - SOY CREATIVO - DETALLISTA - SOY CREATIVO -
                    DETALLISTA -</p>
            </div>
            <div class="group2">
                <p class="text1">- VISUAL - ESTRATEGICO </p>
                <p class="text2">- FUNCIONAL -</p>
                <p class="text1">VISUAL - ESTRATEGICO </p>
                <p class="text2">- FUNCIONAL -</p>
            </div>
            <div class="group3">
                <p class="text1">- VISUAL - ESTRATEGICO -</p>
                <p class="text2">FUNCIONAL</p>
                <p class="text1">- VISUAL - ESTRATEGICO -</p>
                <p class="text2">FUNCIONAL</p>
            </div>
            <div class="group4">
                <p class="text1">MODERNO - INOVADOR -</p>
                <p class="text2">ANALITICO</p>
                <p class="text1">MODERNO - INOVADOR -</p>
                <p class="text2">ANALITICO</p>
            </div>
            <div class="group5">
                <p class="text1">ANALITICO</p>
                <p class="text2">MINIMALISTA - EXPRESIVO</p>
                <p class="text1">ANALITICO</p>
                <p class="text2">MINIMALISTA - EXPRESIVO</p>
            </div>
            <div class="group6">
                <p class="text1">- PROACTIVO -</p>
                <p class="text2">ESTRATÉGICO -</p>
                <p class="text1">- PROACTIVO -</p>
                <p class="text2">ESTRATÉGICO -</p>
            </div>
            <div class="group7">
                <p class="text1">- CREO INTERFACES INTERACTIVAS - CREO INTERFACES INTERACTIVAS -</p>
            </div>
            <div class="group8">
                <p class="text1">- CÓDIGO LIMPIO -</p>
                <p class="text2">ESTRUCTURADO -</p>
                <p class="text1">- CÓDIGO LIMPIO -</p>
                <p class="text2">ESTRUCTURADO -</p>
            </div>
            <div class="group1">
                <p>SOY CREATIVO - DETALLISTA - SOY CREATIVO - DETALLISTA - SOY CREATIVO - DETALLISTA - SOY CREATIVO -
                    DETALLISTA -</p>
            </div>
            <div class="group2">
                <p class="text1">- VISUAL - ESTRATEGICO </p>
                <p class="text2">- FUNCIONAL </p>
                <p class="text1">- VISUAL - ESTRATEGICO </p>
                <p class="text2">- FUNCIONAL </p>
            </div>
            <div class="group3">
                <p class="text1">- VISUAL - ESTRATEGICO -</p>
                <p class="text2">FUNCIONAL</p>
                <p class="text1">- VISUAL - ESTRATEGICO -</p>
                <p class="text2">FUNCIONAL</p>
            </div>
            <div class="group4">
                <p class="text1">MODERNO - INOVADOR -</p>
                <p class="text2">ANALITICO</p>
                <p class="text1">MODERNO - INOVADOR -</p>
                <p class="text2">ANALITICO</p>
            </div>
            <div class="group5">
                <p class="text1">ANALITICO</p>
                <p class="text2">MINIMALISTA - EXPRESIVO</p>
                <p class="text1">ANALITICO</p>
                <p class="text2">MINIMALISTA - EXPRESIVO</p>
            </div>
            <div class="group6">
                <p class="text1">- PROACTIVO -</p>
                <p class="text2">ESTRATÉGICO -</p>
                <p class="text1">- PROACTIVO -</p>
                <p class="text2">ESTRATÉGICO -</p>
            </div>
            <div class="group7">
                <p class="text1">- CREO INTERFACES INTERACTIVAS - CREO INTERFACES INTERACTIVAS -</p>
            </div>
            <div class="group8">
                <p class="text1">- CÓDIGO LIMPIO -</p>
                <p class="text2">ESTRUCTURADO -</p>
                <p class="text1">- CÓDIGO LIMPIO -</p>
                <p class="text2">ESTRUCTURADO -</p>
            </div>
            <div class="group9">
                <p class="text1">- DESARROLLO EXPERIENCIAS - DESARROLLO EXPERIENCIAS -</p>
            </div>
        </div>
    </div>
    <div class="container" style="">
        <div class="nav" style="">
            <a class="logo" href="/">
                <img src="./img/logo.svg" alt="">
            </a>
            <div class="contein_menu">
                <button class="menu-btn" aria-controls="menuOverlay" aria-expanded="false" aria-label="Abrir menú">
                    <img src="./img/menu.svg" alt="Abrir menú">
                </button>
            </div>

        </div>

        <div class="wrap">
            <div class="layout">
                <!-- LEFT PREVIEW -->
                <section class="preview" id="preview">
                    <div class="hero">
                        <img id="heroImg" src="" alt="" loading="lazy" />
                    </div>
                </section>

                <!-- RIGHT LIST -->
                <aside class="list">
                    <div class="list-head">
                        <h2 class="work-title">PROYECTOS</h2>
                        <div class="work-count" id="workCount">0</div>
                    </div>
                    <div class="divider"></div>
                    <div class="items" id="items"></div>
                </aside>
            </div>
        </div>

    </div>
    <!-- MENU OVERLAY -->
    <div id="menuOverlay" class="menu-overlay" aria-hidden="true">
        <div class="menu-wrap">
            <!-- Top bar -->
            <div class="menu-top">
                <div class="brand">
                    <img class="brand-logo" src="./img/logo-blanco.png" alt="Logo">
                    <span class="brand-name">/ElvisValle</span>
                </div>
                <div class="menu-actions">
                    
                    <a id="menuClose" class="icon" aria-label="Cerrar menú">
                        <img src="./img/cerrar.svg" alt="Abrir menú">
                    </a>
                </div>
            </div>

            <!-- Listado -->
            <nav class="menu-list" role="navigation" aria-label="Principal">
                <a href="/" class="row"><span class="idx">01</span><span class="link">INICIO</span></a>
                <a href="/proyectos.html" class="row"><span class="idx">02</span><span class="link">PROYECTOS</span></a>
                <a href="/sobre_mi.html" class="row"><span class="idx">03</span><span class="link">SOBRE MI</span></a>
                <a href="#contact" class="row"><span class="idx">04</span><span class="link">CONTACTO</span></a>
            </nav>

            <!-- Social -->
            <div class="menu-social">
                <a href="https://instagram.com" target="_blank" rel="noreferrer noopener">↗ instagram</a>
                <a href="https://behance.net" target="_blank" rel="noreferrer noopener">↗ behance</a>
            </div>
        </div>
    </div>
    <!-- /MENU OVERLAY -->
     <!-- script de todos los proyectos -->
    <script>
        const projects = [
            { name: "Kuntur Spirit", cat: "Web Development", img: "./img/kuntur.webp", link: "kuntur-spirit.html" },
            { name: "CodeTeam", cat: "Diseño UX/UI", img: "./img/codeteam.webp", link: "code-team.html" },
            { name: "Qataya", cat: "Diseño UX/UI", img: "./img/qataya.webp", link: "qataya.html" },
            { name: "HVgraf Cusco", cat: "Web Development", img: "./img/kuntur.webp", link: "kuntur-hvgraf.html" },
        ];

        const itemsEl = document.getElementById("items");
        const workCount = document.getElementById("workCount");
        const heroImg = document.getElementById("heroImg");

        let currentIdx = -1;
        let hoverTimeout;

        // Preload imágenes sin bloquear el render
        projects.forEach(p => {
            const img = new Image();
            img.src = p.img;
            img.loading = "lazy";
        });

        // Render lista de proyectos
        workCount.textContent = projects.length;
        itemsEl.innerHTML = projects
            .map(
                (p, i) => `
      <div class="item" data-idx="${i}" data-link="${p.link}">
        <div class="item-name"><span class="arrow">→ </span>${p.name}</div>
        <div class="item-cat">${p.cat}</div>
      </div>`
            )
            .join("");

        // Configuración inicial de la imagen
        Object.assign(heroImg.style, {
            opacity: "0",
            visibility: "hidden",
            transition: "opacity 0.4s ease",
            willChange: "opacity, transform",
            transform: "translateZ(0)",
        });

        // Efecto hover optimizado
        itemsEl.addEventListener("pointerover", e => {
            const item = e.target.closest(".item");
            if (!item) return;
            const idx = parseInt(item.dataset.idx);
            if (idx === currentIdx) return;
            currentIdx = idx;

            clearTimeout(hoverTimeout);
            hoverTimeout = setTimeout(() => {
                const project = projects[idx];
                if (heroImg.src.endsWith(project.img)) return; // evita recarga innecesaria
                heroImg.style.opacity = "0";

                requestAnimationFrame(() => {
                    heroImg.src = project.img;
                    heroImg.onload = () => {
                        heroImg.style.visibility = "visible";
                        heroImg.style.opacity = "1";
                    };
                });
            }, 100); // pequeño retraso para evitar sobrecarga al mover rápido el cursor
        });

        // Ocultar imagen al salir
        itemsEl.addEventListener("pointerleave", () => {
            clearTimeout(hoverTimeout);
            heroImg.style.opacity = "0";
            currentIdx = -1;
        });

        // Click → abrir página del proyecto
        itemsEl.addEventListener("click", e => {
            const item = e.target.closest(".item");
            if (!item) return;
            const link = item.dataset.link;
            if (link) window.location.href = link;
        });
    </script>

    

    <script>
        (function () {
            const overlay = document.getElementById('menuOverlay');
            const openBtn = document.querySelector('.menu-btn');
            const closeBtn = document.getElementById('menuClose');
            const links = overlay.querySelectorAll('.menu-list a');

            function openMenu() {
                overlay.classList.add('open');
                openBtn.setAttribute('aria-expanded', 'true');
                overlay.setAttribute('aria-hidden', 'false');
                document.body.classList.add('menu-open');
            }
            function closeMenu() {
                overlay.classList.remove('open');
                openBtn.setAttribute('aria-expanded', 'false');
                overlay.setAttribute('aria-hidden', 'true');
                document.body.classList.remove('menu-open');
            }

            openBtn.addEventListener('click', openMenu);
            closeBtn.addEventListener('click', closeMenu);
            overlay.addEventListener('click', (e) => { if (e.target === overlay) closeMenu(); });
            document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeMenu(); });
            links.forEach(a => a.addEventListener('click', closeMenu));
        })();
    </script>


</body>


</html>
